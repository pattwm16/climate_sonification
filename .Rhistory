# diagnose
dx <- netdx(est, nsims = 5, nsteps = 1000,
nwstats.formula = ~edges + degrange(from = 4) + b1degree(0:3) + b2degree(0:3)
+ b1concurrent + b2concurrent)
dx
# examine our diagnosis
plot(dx)
par(mfrow = c(1, 2))
plot(dx, type = "duration")
plot(dx, type = "dissolution")
#
library(EpiModel)
# estimate
est <- netest(nw, formation, target.stats, coef.diss)
#
library(EpiModel)
# females
deg.dist.m1 <- c(0.20,
0.786,
0.011,
0.003)
# males
deg.dist.m2 <- c(0.328,
0.524,
0.128,
0.020)
check_bip_degdist(372 , 361,
deg.dist.m1, deg.dist.m2)
# set size of modes
num.m1 <- 3720
num.m2 <- 3610
# initialize network
nw <- network.initialize(n = num.m1 + num.m2,
bipartite = num.m1,
directed = FALSE)
# define formation formula
formation <- ~edges + degrange(from = 4) + b1degree(0:1) + b2degree(0:1)
# set up target stats
target.stats <- c(304,  0, 74.4, 292.4, 118.4, 189.2)
# dissolution form
coef.diss <- dissolution_coefs(dissolution = ~offset(edges), duration = (4.5 * 38))
# estimate
est <- netest(nw, formation, target.stats, coef.diss)
# diagnose
dx <- netdx(est, nsims = 5, nsteps = 1000,
nwstats.formula = ~edges + degrange(from = 4) + b1degree(0:3) + b2degree(0:3)
+ b1concurrent + b2concurrent)
dx
# examine our diagnosis
plot(dx)
par(mfrow = c(1, 2))
plot(dx, type = "duration")
plot(dx, type = "dissolution")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
ct_od_data <- read.csv("Accidental_Drug_Related_Deaths_2012-2018.csv")
# replace all "" instances in Race column with Unknown
ct_od_data$Race[ct_od_data$Race == ""] <- "Unknown"
# return a summary of instances by race
od_by_race <- ct_od_data %>%
group_by(Race) %>%
summarize(Count=n())
knitr::kable(od_by_race)
ct_od_data$ResidenceCity[is.na(ct_od_data$ResidenceCity)] <- "Unknown"
# return a summary of instances by race
od_by_year <- ct_od_data %>%
group_by(substr(Date, 7, 10)) %>%
summarize(Count=n())
ggplot(od_by_year[-c(1),], aes(x=`substr(Date, 7, 10)`, y=Count)) +
geom_bar(stat="Identity") +
xlab("") +
ylab("Count of Drug-related Deaths") +
theme_classic()
ct_pop = (list( '2012'=3594395,'2013'=3594915,'2014'=3594783,'2015'=3587509,'2016'=3578674,
'2017'=3573880,'2018'=3572665))
as.list(od_by_year$Count) / ct_pop
#as.list(od_by_year$Count) / ct_pop
library(reticulate)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(reticulate)
lst = as.data.frame(py$CI_list_by_year)
View(lst)
View(lst)
View(lst)
lst = colnames(as.data.frame(py$CI_list_by_year), "Cumulative Incidence per 100,000 people")
?colnames
colnames(as.data.frame(py$CI_list_by_year)) <- c("Cumulative Incidence per 100,000 people")
CI_list_by_year <- py$CI_list_by_year
colnames(as.data.frame(CI_list_by_year)) <- c("Cumulative Incidence per 100,000 people")
colnames(CI_list_by_year) <- c("Cumulative Incidence per 100,000 people")
CI_list_by_year <- py$CI_list_by_year
CI_list_by_year <- as.data.frame(py$CI_list_by_year)
colnames(CI_list_by_year) <- c("Cumulative Incidence per 100,000 people")
View(CI_list_by_year)
CI_list_by_year <- as.data.frame(py$CI_list_by_year)
colnames(CI_list_by_year) <- c("Cumulative Incidence per 100,000 people")
kable(CI_list_by_year)
knitr::kable(CI_list_by_year)
seq(2012, 2018)
CI_list_by_year <- as.data.frame(seq(2012, 2018), py$CI_list_by_year)
CI_list_by_year <- as.data.frame(seq(2012, 2018), py$CI_list_by_year)
CI_list_by_year <- as.data.frame(c(seq(2012, 2018)), py$CI_list_by_year)
colnames(CI_list_by_year) <- c("Year", "Cumulative Incidence per 100,000 people")
CI_list_by_year <- do.call(rbind, Map(data.frame, A=seq(2012, 2018), B=py$CI_list_by_year))
View(CI_list_by_year)
colnames(CI_list_by_year) <- c("Year", "Cumulative Incidence per 100,000 people")
knitr::kable(CI_list_by_year)
setwd("~/Desktop/Brown/Brown 2019-2020/LITR 0110D - Digital Language Arts/climate_sonification")
climate_dat <- read.csv('GLB.Ts+dSST.csv')
climate_dat <- read.csv('GLB.Ts+dSST.csv', header = TRUE)
climate_dat <- read.csv('GLB.Ts+dSST.csv', header = TRUE)
View(climate_dat)
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_point()
#
library(tidyverse)
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_point()
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line()
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
theme_bw()
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
theme_minimal()
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
theme_classic()
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
theme_classic()
#
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
geom_smooth(method = "lm") +
theme_classic()
#
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
theme_classic()
#
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
main("Global Mean Temperature (1880-2019") +
theme_classic()
#
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019") +
theme_classic()
#
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
theme_classic()
#
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
geom_smooth(aes(color="Red"), method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
theme_classic()
#
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=SON)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ylab("Mean Temperature Change over SON") +
ggtitle("Global Mean Temperature (1880-2019)") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=SON)) +
geom_line() +
ylab("Mean Temperature Change over SON") +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=SON)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over SON") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=SON)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
#ylab("Mean Temperature Change over SON") +
theme_classic()
# line/scatter plot of climate data (June-July-August)
ggplot(climate_dat, aes(x=Year, y=JJA)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
theme_classic()
climate_dat$SON
install.packages(naniar)
install.packages("naniar")
climate_dat %>% replace_with_na(replace = list(x = '***'))
library(naniar)
climate_dat %>% replace_with_na(replace = list(x = '***'))
climate_dat <- climate_dat %>% replace_with_na(replace = list(x = '***'))
climate_dat <- replace_with_na(climate_dat, replace = list(x = '***'))
replace_with_na(climate_dat, replace = list(x = '***'))
climate_dat <- replace_with_na(climate_dat, replace = list(SON = '***'))
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=SON)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
#ylab("Mean Temperature Change over SON") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=SON)) +
geom_line() +
geom_point()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=SON)) +
geom_line()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=SON)) +
geom_point()
climate_dat$JJA
climate_dat$SON
typeof(climate_dat$JJA)
typeof(climate_dat$SON)
typeof(as.double(climate_dat$SON))
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=as.double(SON)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
#ylab("Mean Temperature Change over SON") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=as.double(SON)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ylab("SON")
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=as.double(SON)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ylab("SON") +
ggtitle("Global Mean Temperature (1880-2019)") +
#ylab("Mean Temperature Change over SON") +
theme_classic()
ggplot(climate_dat, aes(x=Year, y=as.double(DJF)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ylab("DJF") +
ggtitle("Global Mean Temperature (1880-2019)") +
#ylab("Mean Temperature Change over SON") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=as.double(SON)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ylab("SON") +
ggtitle("Global Mean Temperature (1880-2019)") +
#ylab("Mean Temperature Change over SON") +
theme_classic()
ggplot(climate_dat, aes(x=Year, y=as.double(DJF)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ylab("DJF") +
ggtitle("Global Mean Temperature (1880-2019)") +
#ylab("Mean Temperature Change over SON") +
theme_classic()
ggplot(climate_dat, aes(x=Year, y=as.double(MAM)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ylab("DJF") +
ggtitle("Global Mean Temperature (1880-2019)") +
#ylab("Mean Temperature Change over SON") +
theme_classic()
# line/scatter plot of climate data (June-July-August)
p <- ggplot(climate_dat, aes(x=Year)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over SON") +
theme_classic()
p + facet_wrap(. ~ [DJF, MAM, JJA, SON])
p + facet_wrap(. ~ c(DJF, MAM, JJA, SON))
p + facet_wrap(. ~ c(climate_dat$DJF, climate_dat$MAM, climate_dat$JJA, climate_dat$SON))
p + facet_wrap(. ~ DJF)
# line/scatter plot of climate data (June-July-August)
p <- ggplot(climate_dat, aes(x=Year)) +
geom_line() +
geom_point() +
#geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over SON") +
theme_classic()
p + facet_wrap(. ~ DJF)
# line/scatter plot of climate data (June-July-August)
p <- ggplot(climate_dat, aes(x=Year)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over JJA") +
theme_classic()
# line/scatter plot of climate data (June-July-August)
ggplot(climate_dat, aes(x=Year)) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over JJA") +
theme_classic()
# line/scatter plot of climate data (June-July-August)
ggplot(climate_dat, aes(x=Year, y=as.double(JJA))) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over JJA") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
ggplot(climate_dat, aes(x=Year, y=as.double(SON)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over SON") +
theme_classic()
ggplot(climate_dat, aes(x=Year, y=as.double(DJF)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over DJF") +
theme_classic()
ggplot(climate_dat, aes(x=Year, y=as.double(MAM)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over MAM") +
theme_classic()
# line/scatter plot of climate data (June-July-August)
jja <- ggplot(climate_dat, aes(x=Year, y=as.double(JJA))) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over JJA") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
son <- ggplot(climate_dat, aes(x=Year, y=as.double(SON)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over SON") +
theme_classic()
djf <- ggplot(climate_dat, aes(x=Year, y=as.double(DJF)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over DJF") +
theme_classic()
mam <- ggplot(climate_dat, aes(x=Year, y=as.double(MAM)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over MAM") +
theme_classic()
ggarrange(jja, son, djf, mam,
labels = c("A", "B", "C", "D"),
ncol = 2, nrow = 2)
library(ggpubr)
ggarrange(jja, son, djf, mam,
labels = c("A", "B", "C", "D"),
ncol = 2, nrow = 2)
# line/scatter plot of climate data (June-July-August)
jja <- ggplot(climate_dat, aes(x=Year, y=as.double(JJA))) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
#ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over JJA") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
son <- ggplot(climate_dat, aes(x=Year, y=as.double(SON)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
#ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over SON") +
theme_classic()
djf <- ggplot(climate_dat, aes(x=Year, y=as.double(DJF)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
#ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over DJF") +
theme_classic()
mam <- ggplot(climate_dat, aes(x=Year, y=as.double(MAM)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
#ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over MAM") +
theme_classic()
ggarrange(jja, son, djf, mam,
labels = c("A", "B", "C", "D"),
ncol = 2, nrow = 2)
ggarrange(jja, son, djf, mam,
labels = c("A", "B", "C", "D"),
ncol = 2, nrow = 2) +
ggtitle("Global Mean Temperature (1880-2019)")
figure <- ggarrange(jja, son, djf, mam,
labels = c("A", "B", "C", "D"),
ncol = 2, nrow = 2)
annotate_figure(figure,
top = text_grob("Global Mean Temperature (1880-2019)"))
annotate_figure(figure,
top = text_grob("Global Mean Temperature (1880-2019)", face = "Bold", size = 24))
annotate_figure(figure,
top = text_grob("Global Mean Temperature (1880-2019)", face = "bold", size = 24))
annotate_figure(figure,
top = text_grob("Global Mean Temperature (1880-2019)", face = "bold", size = 18))
annotate_figure(figure,
top = text_grob("Global Mean Temperature (1880-2019)", face = "bold", size = 18),
bottom = text_grob("Data source: \n NASA GISS",
hjust = 1, x = 1, face = "italic", size = 10))
climate_dat <- replace_with_na(climate_dat, replace = list(SON = '***',
MAM = '***',
DJF = '***',
JJA = '***'))
# read in climate data
climate_dat <- read.csv('GLB.Ts+dSST.csv', header = TRUE)
climate_dat <- replace_with_na(climate_dat, replace = list(SON = '***',
MAM = '***',
DJF = '***',
JJA = '***'))
# line/scatter plot of climate data (June-July-August)
jja <- ggplot(climate_dat, aes(x=Year, y=as.double(JJA))) +
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
#ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over JJA") +
theme_classic()
# line/scatter plot of climate data (Sept-Oct-Nov)
son <- ggplot(climate_dat, aes(x=Year, y=as.double(SON)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
#ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over SON") +
theme_classic()
djf <- ggplot(climate_dat, aes(x=Year, y=as.double(DJF)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
#ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over DJF") +
theme_classic()
mam <- ggplot(climate_dat, aes(x=Year, y=as.double(MAM)))+
geom_line() +
geom_point() +
geom_smooth(method = "loess") +
#ggtitle("Global Mean Temperature (1880-2019)") +
ylab("Mean Temperature Change over MAM") +
theme_classic()
figure <- ggarrange(jja, son, djf, mam,
labels = c("A", "B", "C", "D"),
ncol = 2, nrow = 2)
annotate_figure(figure,
top = text_grob("Global Mean Temperature (1880-2019)", face = "bold", size = 18),
bottom = text_grob("Data source: \n NASA GISS",
hjust = 1, x = 1, face = "italic", size = 10))
